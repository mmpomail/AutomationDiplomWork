# План по автоматизации тестирования приложения. 

## Валидные данные 

Номера карт: в 16-значном формате, для тестов предоставлены две карты - 4444 4444 4444 4441 (одобренная для проведения операций в приложении), 4444 4444 4444 4442 (заблокированная для проведения операций в приложении). Данные о картах хранятся в файле data.json.

Месяц: месяцы года в двузначном формате, от 01 до 12. 

Год: двузначный формат, последние две цифры от обозначения года.

Владелец: Имя и фамилия (разделённые пробелом), указанные латинскими буквами. 

CVC/CVV: трёхзначное число. 

## Предварительные условия (указаны по порядку выполнения): 

 - На тестовой машине через docker-compose развёрнуты контейнеры баз данных MySQL, PostgreSQL, эмулятор банковского сервиса;
 - запущено приложение aqa-shop.jar;
 - в браузере открыта страница http://localhost:8080.

## Перечень автоматизируемых сценариев:

### Сценарий 1. Покупка тура по дебетовой карте, одобренной для проведения операций в приложении: 

•	Нажать кнопку «Купить». 

•	Ввести номер карты – 4444 4444 4444 4441, остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить». 

Ожидаемый результат: появится сообщение: «Успешно. Операция одобрена банком». В базе данных появится запись о том, что была совершена покупка тура с оплатой по дебетовой карте. 

### Сценарий 2. Покупка тура в кредит, с использованием карты, одобренной для проведения операций в приложении:

•	Нажать кнопку «Купить в кредит». 

•	Ввести номер карты – 4444 4444 4444 4441, остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: появится сообщение «Успешно. Операция одобрена банком». В базе данных появится запись о том, что была совершена покупка тура в кредит. 

### Сценарий 3. Покупка тура по дебетовой карте, отклонённой для проведения операций в приложении: 

•	Нажать кнопку «Купить». 

•	Ввести номер карты – 4444 4444 4444 4442, остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить». 

Ожидаемый результат: появится сообщение: «Ошибка! Банк отказал в проведении операции». В базе данных появится запись о том, в покупке тура было отказано. 

### Сценарий 4. Покупка тура в кредит, с использованием карты, отклонённой для проведения операций в приложении:

•	Нажать кнопку «Купить в кредит». 

•	Ввести номер карты – 4444 4444 4444 4442, остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: появится сообщение: «Ошибка! Банк отказал в проведении операции». В базе данных появится запись о том, в покупке тура было отказано.

### Сценарий 5. Покупка тура по дебетовой карте с отправкой пустой формы: 

•	Нажать кнопку «Купить». 

•	Оставить поля ввода формы пустыми. 

•	Нажать кнопку «Продолжить». 

Ожидаемый результат: приложение выдаст сообщение о том, что поля формы должны быть заполнены. В базе данных не будет создано новой записи.

### Сценарий 6. Покупка тура в кредит с отправкой пустой формы: 

•	Нажать кнопку «Купить в кредит». 

•	Оставить поля ввода формы пустыми.

•	Нажать кнопку «Продолжить».

Ожидаемый результат: приложение выдаст сообщение о том, что поля формы должны быть заполнены. В базе данных не будет создано новой записи.

### Сценарий 7. Покупка тура по дебетовой карте с номером карты меньше валидной длины: 

•	Нажать кнопку «Купить». 

•	В поле ввода «Номер карты» ввести 15-значное число, например, 4444 4444 4444 444, остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: приложение выдаст сообщение о том, что номер карты указан в неверном формате. В базе данных не будет создано новой записи.

### Сценарий 8. Покупка тура в кредит, с номер карты меньше валидной длины: 

•	Нажать кнопку «Купить в кредит». 

•	В поле ввода «Номер карты» ввести 15-значное число, например, 4444 4444 4444 444, остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: приложение выдаст сообщение о том, что номер карты указан в неверном формате. В базе данных не будет создано новой записи.

### Сценарий 9. Покупка тура по дебетовой карте с номером карты больше валидной длины: 

•	Нажать кнопку «Купить». 

•	В поле ввода «Номер карты» ввести 17-значное число, например, 4444 4444 4444 4441 7, остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: поле ввода «Номер карты» не пример значение из семнадцати цифр. Будет произведена оплата по номеру из введённых 16 цифр, о чём в базе данных появится соответствующая запись.

### Сценарий 10. Покупка тура в кредит с номером карты больше валидной длины: 

•	Нажать кнопку «Купить в кредит».

•	В поле ввода «Номер карты» ввести 17-значное число, например, 4444 4444 4444 4441 7, остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: поле ввода «Номер карты» не пример значение из семнадцати цифр. Будет произведена оплата по номеру из введённых 16 цифр, о чём в базе данных появится соответствующая запись.

### Сценарий 11. Покупка тура по дебетовой карте с использованием несуществующей карты:

•	Нажать кнопку «Купить». 

•	Ввести номер карты, не предоставленной для тестов, например, 6666 6666 6666 6666, остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: появляется сообщение: «Ошибка! Банк отказал в проведении операции». В базе данных не появится новых записей.

### Сценарий 12. Покупка тура в кредит с использованием несуществующей карты:

•	Нажать кнопку «Купить в кредит». 

•	Ввести номер карты, не предоставленной для тестов, например, 6666 6666 6666 6666, остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: появляется сообщение: «Ошибка! Банк отказал в проведении операции». В базе данных не появится новых записей.


### Сценарий 13. Покупка тура по дебетовой карте с указанием месяца истечения срока карты в невалидном формате: 

•	Нажать кнопку «Купить». 

•	В поле ввода «Месяц» ввести одну цифру, остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «Месяц» появится сообщение «Неверный формат». В базе данных не будет создано новой записи.

### Сценарий 14. Покупка тура в кредит с указанием месяца истечения срока карты в невалидном формате: 

•	Нажать кнопку «Купить в кредит». 

•	В поле ввода «Месяц» ввести одну цифру, остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «Месяц» появится сообщение «Неверный формат». В базе данных не будет создано новой записи.

### Сценарий 15. Покупка тура по дебетовой карте с указанием нулевого значения в поле месяца истечения срока карты: 

•	Нажать кнопку «Купить». 

•	В поле ввода «Месяц» ввести «00», остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «Месяц» появится сообщение «Неверно указан срок действия карты». В базе данных не будет создано новой записи.

### Сценарий 16. Покупка тура в кредит с указанием нулевого значения в поле месяца истечения срока карты: 

•	Нажать кнопку «Купить в кредит». 

•	В поле ввода «Месяц» ввести «00», остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «Месяц» появится сообщение «Неверно указан срок действия карты». В базе данных не будет создано новой записи.

### Сценарий 17. Покупка тура по дебетовой карте с указанием несуществующего месяца в сроке истечения карты: 

•	Нажать кнопку «Купить». 

•	В поле ввода «Месяц» ввести любое значение больше «12», например, «13»; остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «Месяц» появится сообщение «Неверно указан срок действия карты». В базе данных не будет создано новой записи.

### Сценарий 18. Покупка тура в кредит с указанием несуществующего месяца в сроке истечения карты: 

•	Нажать кнопку «Купить в кредит». 

•	В поле ввода «Месяц» ввести любое значение больше «12», например, «13»; остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «Месяц» появится сообщение «Неверно указан срок действия карты». В базе данных не будет создано новой записи.

### Сценарий 19. Покупка тура по дебетовой карте с указанием месяца, в котором срок действия карты уже был просрочен: 

•	Нажать кнопку «Купить». 

•	В поле ввода «Месяц» указать месяц, предыдущий текущему, в поле ввода «Год» указать текущий год, остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «Месяц» появится сообщение «Неверно указан срок действия карты». Новых записей в базе данных не появится. 

### Сценарий 20. Покупка тура в кредит с указанием месяца, в котором срок действия карты уже был просрочен: 

•	Нажать кнопку «Купить в кредит». 

•	В поле ввода «Месяц» указать месяц, предыдущий текущему, в поле ввода «Год» указать текущий год, остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «Месяц» появится сообщение «Неверно указан срок действия карты». Новых записей в базе данных не появится. 


### Сценарий 21. Покупка тура по дебетовой карте с указанием года истечения срока карты в невалидном формате: 

•	Нажать кнопку «Купить». 

•	В поле ввода «Год» ввести одну цифру, в поле ввода «Месяц» ввести месяц, следующий за текущим; остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «Год» появится сообщение «Неверный формат». В базе данных не будет создано новой записи.

### Сценарий 22. Покупка тура в кредит с указанием года истечения срока карты в невалидном формате: 

•	Нажать кнопку «Купить в кредит». 

•	В поле ввода «Год» ввести одну цифру, в поле ввода «Месяц» ввести месяц, следующий за текущим; остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «Год» появится сообщение «Неверный формат». В базе данных не будет создано новой записи.

### Сценарий 23. Покупка тура по дебетовой карте с указанием года, в котором срок действия карты уже был просрочен: 

•	Нажать кнопку «Купить». 

•	В поле ввода «Год» ввести год, предыдущий текущему; остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «Год» появится сообщение «Истёк срок действия карты». Новых записей в базе данных не появится.

### Сценарий 24. Покупка тура в кредит с указанием года, в котором срок действия карты уже был просрочен: 

•	Нажать кнопку «Купить в кредит». 

•	В поле ввода «Год» ввести год, предыдущий текущему; остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «Год» появится сообщение «Истёк срок действия карты». Новых записей в базе данных не появится.

### Сценарий 25. Покупка тура по дебетовой карте с неверно указанным сроком действия карты: 

•	Нажать кнопку «Купить». 

•	К текущему году прибавить 6 лет и получившийся результат ввести в поле «Год»; остальные поля заполнить валидными данными.

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «Год» появится сообщение «Неверно указан срок действия карты». Новых записей в базе данных не появится.

### Сценарий 26. Покупка тура в кредит с неверно указанным сроком действия карты: 

•	Нажать кнопку «Купить в кредит». 

•	К текущему году прибавить 6 лет и получившийся результат ввести в поле «Год»; остальные поля заполнить валидными данными.  

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «Год» появится сообщение «Неверно указан срок действия карты». Новых записей в базе данных не появится.


### Сценарий 27. Покупка тура по дебетовой карте с указанием имени и фамилии владельца карты кириллицей: 

•	Нажать кнопку «Купить».

•	В поле ввода «Владелец» ввести имя на кириллице, например, «Андрей Решетнёв»; остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «Владелец» появится сообщение, что имя и фамилия введены в неверном формате. Новых записей в базе данных не появится. 

### Сценарий 28. Покупка тура в кредит с указанием имени и фамилии владельца карты кириллицей: 

•	Нажать кнопку «Купить в кредит». 

•	В поле ввода «Владелец» ввести имя на кириллице, например, «Андрей Решетнёв»; остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «Владелец» появится сообщение, что имя и фамилия введены в неверном формате. Новых записей в базе данных не появится. 

### Сценарий 29. Покупка тура по дебетовой карте с указанием только имени владельца на латинице: 

•	Нажать кнопку «Купить». 

•	В поле ввода «Владелец» ввести имя на латинице, например, «Andrew»; остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «Владелец» появится сообщение, что имя и фамилия введены в неверном формате. Новых записей в базе данных не появится. 

### Сценарий 30. Покупка тура в кредит с указанием только имени владельца на латинице: 

•	Нажать кнопку «Купить в кредит». 

•	В поле ввода «Владелец» ввести имя на латинице, например, «Andrew»; остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «Владелец» появится сообщение, что имя и фамилия введены в неверном формате. Новых записей в базе данных не появится. 


### Сценарий 31. Покупка тура по дебетовой карте с указанием CVV меньшей длины, чем у валидного значения:  

•	Нажать кнопку «Купить». 

•	В поле ввода CVC/CVV ввести одну цифру, остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «CVC/CVV» появится сообщение «Неверный формат». Новых записей в базе данных не появится. 

### Сценарий 32. Покупка тура в кредит с указанием CVV меньшей длины, чем у валидного значения:  

•	Нажать кнопку «Купить в кредит». 

•	В поле ввода CVC/CVV ввести одну цифру, остальные поля заполнить валидными данными. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: под полем ввода «CVC/CVV» появится сообщение «Неверный формат». Новых записей в базе данных не появится. 

### Сценарий 33. Покупка тура по дебетовой карте с указанием CVV большей длины, чем валидное значение:  

•	Нажать кнопку «Купить». 

•	В поле ввода CVC/CVV ввести четырёхзначное число. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: поле ввода «CVC/CVV» не примет чётырехзначное значение, в поле отобразятся три цифры. В базе данных появится запись о заказанном туре по дебетовой карте.  

### Сценарий 34. Покупка тура в кредит с указанием CVV большей длины, чем валидное значение:  

•	Нажать кнопку «Купить в кредит». 

•	В поле ввода CVC/CVV ввести четырёхзначное число. 

•	Нажать кнопку «Продолжить».

Ожидаемый результат: поле ввода «CVC/CVV» не примет чётырехзначное значение, в поле отобразятся три цифры. В базе данных появится запись о покупке тура в кредит.

## Используемые инструменты:

•	IDE IntelliJ IDEA, проект со сборкой Gradle (для написания кода автотестов на Java, подключения всех необходимых фреймворков)

•	фреймворк Junit5 (для написания автотестов)

•	фреймворк Selenide (для реализации автотестов)

•	фреймворк Lombok (для оптимизации шаблонного кода автотестов)

•	фреймворк JavaFaker (для генерации тестовых данных)

•	фреймворк Allure (для формирования отчётности по тестированию)

•	Docker (для развёртывания контейнеров баз данных и эмулятора банковского приложения на тестовой машине). 

•	браузер Google Chrome: DevTools для анализа кода веб-интерфейса приложения, сам браузер для проверки автотестов.


## Вероятные риски при выполнении автоматизации:

1) Отсутствие требований и вообще какой-либо технической документации по приложению. Фактически, приходится проводить исследовательское тестирование. 
    
2) Локаторы в веб-интерфейсе приложения могут быть не оптимальными для проведения авто-тестов. 
    
3) Подключение приложения к двум разным БД (MySQL и PostgreSQL), в связи с этим - возможные проблемы, ошибки и нестыковки в docker-compose и т. д. 

## Оценка времени на работу с учётом рисков: 

Без учёта рисков: 48 часов. 

С учётом рисков: 72 часа. 

## План сдачи работы:

   - Автотесты будут готовы в течение 48 рабочих часов после согласования и утверждения тест-плана.